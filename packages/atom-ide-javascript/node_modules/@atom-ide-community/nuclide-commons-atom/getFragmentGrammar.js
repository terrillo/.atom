"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getFragmentGrammar;

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

/**
 * Some grammars should use a specialized grammar for code fragments
 * (namely PHP, since it's wildly different depending on the presence of a <?php opening).
 */
const FRAGMENT_GRAMMARS = Object.freeze({
  'text.html.hack': 'source.hackfragment',
  'text.html.php': 'source.hackfragment'
});

function getFragmentGrammar(grammar) {
  if (FRAGMENT_GRAMMARS.hasOwnProperty(grammar.scopeName)) {
    const fragmentGrammar = FRAGMENT_GRAMMARS[grammar.scopeName];
    return atom.grammars.grammarForScopeName(fragmentGrammar) || grammar;
  }

  return grammar;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLWF0b20vZ2V0RnJhZ21lbnRHcmFtbWFyLmpzIl0sIm5hbWVzIjpbIkZSQUdNRU5UX0dSQU1NQVJTIiwiT2JqZWN0IiwiZnJlZXplIiwiZ2V0RnJhZ21lbnRHcmFtbWFyIiwiZ3JhbW1hciIsImhhc093blByb3BlcnR5Iiwic2NvcGVOYW1lIiwiZnJhZ21lbnRHcmFtbWFyIiwiYXRvbSIsImdyYW1tYXJzIiwiZ3JhbW1hckZvclNjb3BlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUFZQTs7OztBQUtBLE1BQU1BLGlCQUFpQixHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN0QyxvQkFBa0IscUJBRG9CO0FBRXRDLG1CQUFpQjtBQUZxQixDQUFkLENBQTFCOztBQUtlLFNBQVNDLGtCQUFULENBQ2JDLE9BRGEsRUFFQztBQUNkLE1BQUlKLGlCQUFpQixDQUFDSyxjQUFsQixDQUFpQ0QsT0FBTyxDQUFDRSxTQUF6QyxDQUFKLEVBQXlEO0FBQ3ZELFVBQU1DLGVBQWUsR0FBR1AsaUJBQWlCLENBQUNJLE9BQU8sQ0FBQ0UsU0FBVCxDQUF6QztBQUNBLFdBQU9FLElBQUksQ0FBQ0MsUUFBTCxDQUFjQyxtQkFBZCxDQUFrQ0gsZUFBbEMsS0FBc0RILE9BQTdEO0FBQ0Q7O0FBQ0QsU0FBT0EsT0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XHJcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxyXG4gKlxyXG4gKiBAZmxvdyBzdHJpY3RcclxuICogQGZvcm1hdFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTb21lIGdyYW1tYXJzIHNob3VsZCB1c2UgYSBzcGVjaWFsaXplZCBncmFtbWFyIGZvciBjb2RlIGZyYWdtZW50c1xyXG4gKiAobmFtZWx5IFBIUCwgc2luY2UgaXQncyB3aWxkbHkgZGlmZmVyZW50IGRlcGVuZGluZyBvbiB0aGUgcHJlc2VuY2Ugb2YgYSA8P3BocCBvcGVuaW5nKS5cclxuICovXHJcblxyXG5jb25zdCBGUkFHTUVOVF9HUkFNTUFSUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICd0ZXh0Lmh0bWwuaGFjayc6ICdzb3VyY2UuaGFja2ZyYWdtZW50JyxcclxuICAndGV4dC5odG1sLnBocCc6ICdzb3VyY2UuaGFja2ZyYWdtZW50JyxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGcmFnbWVudEdyYW1tYXIoXHJcbiAgZ3JhbW1hcjogYXRvbSRHcmFtbWFyLFxyXG4pOiBhdG9tJEdyYW1tYXIge1xyXG4gIGlmIChGUkFHTUVOVF9HUkFNTUFSUy5oYXNPd25Qcm9wZXJ0eShncmFtbWFyLnNjb3BlTmFtZSkpIHtcclxuICAgIGNvbnN0IGZyYWdtZW50R3JhbW1hciA9IEZSQUdNRU5UX0dSQU1NQVJTW2dyYW1tYXIuc2NvcGVOYW1lXTtcclxuICAgIHJldHVybiBhdG9tLmdyYW1tYXJzLmdyYW1tYXJGb3JTY29wZU5hbWUoZnJhZ21lbnRHcmFtbWFyKSB8fCBncmFtbWFyO1xyXG4gIH1cclxuICByZXR1cm4gZ3JhbW1hcjtcclxufVxyXG4iXX0=