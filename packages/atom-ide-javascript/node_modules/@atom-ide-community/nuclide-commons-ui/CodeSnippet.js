"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CodeSnippet = void 0;

var _AtomInput = require("./AtomInput");

var _assert = _interopRequireDefault(require("assert"));

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
class CodeSnippet extends React.Component {
  constructor(...args) {
    super(...args);
    this._editor = void 0;
    this._ongoingSelection = void 0;
  }

  componentDidMount() {
    (0, _assert.default)(this._editor != null);

    const editor = this._editor.getTextEditor();

    const {
      grammar,
      highlights,
      startLine
    } = this.props;

    if (grammar) {
      editor.setGrammar(grammar);
    }

    if (highlights != null) {
      (0, _assert.default)(startLine != null);
      highlights.forEach(range => {
        const marker = editor.markBufferRange([[range.start.row - startLine, range.start.column], [range.end.row - startLine, range.end.column]]);
        editor.decorateMarker(marker, {
          type: 'highlight',
          class: 'code-snippet-highlight'
        });
      }); // Make sure at least one highlight is visible.

      if (highlights.length > 0) {
        editor.scrollToBufferPosition([highlights[0].end.row - startLine + 1, highlights[0].end.column]);
      }
    }
  }

  render() {
    const lineNumbers = [];
    let lineNumberColumn;

    if (this.props.startLine != null && this.props.endLine != null) {
      for (let i = this.props.startLine; i <= this.props.endLine; i++) {
        lineNumbers.push( /*#__PURE__*/React.createElement("div", {
          key: i,
          className: "nuclide-ui-code-snippet-line-number",
          onClick: evt => this.props.onLineClick(evt, i)
        }, i + 1));
      }

      lineNumberColumn = /*#__PURE__*/React.createElement("div", {
        className: "nuclide-ui-code-snippet-line-number-column"
      }, lineNumbers);
    }

    return /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-code-snippet"
    }, lineNumberColumn, /*#__PURE__*/React.createElement(_AtomInput.AtomInput, {
      ref: input => {
        this._editor = input;
      },
      initialValue: this.props.text,
      onMouseDown: e => {
        this._ongoingSelection = null;
      },
      onDidChangeSelectionRange: e => {
        this._ongoingSelection = e.selection;
      },
      onDidChange: this.props.onDidChange,
      onClick: e => {
        // If the user selected a range, cancel the `onClick` behavior
        // to enable copying the selection.
        let shouldCancel = false;

        if (this._ongoingSelection != null) {
          const {
            start,
            end
          } = this._ongoingSelection.getBufferRange();

          shouldCancel = start.compare(end) !== 0;
        }

        if (!shouldCancel) {
          this.props.onClick(e);
        }

        this._ongoingSelection = null;
      }
    }));
  }

}

exports.CodeSnippet = CodeSnippet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLXVpL0NvZGVTbmlwcGV0LmpzIl0sIm5hbWVzIjpbIkNvZGVTbmlwcGV0IiwiUmVhY3QiLCJDb21wb25lbnQiLCJfZWRpdG9yIiwiX29uZ29pbmdTZWxlY3Rpb24iLCJjb21wb25lbnREaWRNb3VudCIsImVkaXRvciIsImdldFRleHRFZGl0b3IiLCJncmFtbWFyIiwiaGlnaGxpZ2h0cyIsInN0YXJ0TGluZSIsInByb3BzIiwic2V0R3JhbW1hciIsImZvckVhY2giLCJyYW5nZSIsIm1hcmtlciIsIm1hcmtCdWZmZXJSYW5nZSIsInN0YXJ0Iiwicm93IiwiY29sdW1uIiwiZW5kIiwiZGVjb3JhdGVNYXJrZXIiLCJ0eXBlIiwiY2xhc3MiLCJsZW5ndGgiLCJzY3JvbGxUb0J1ZmZlclBvc2l0aW9uIiwicmVuZGVyIiwibGluZU51bWJlcnMiLCJsaW5lTnVtYmVyQ29sdW1uIiwiZW5kTGluZSIsImkiLCJwdXNoIiwiZXZ0Iiwib25MaW5lQ2xpY2siLCJpbnB1dCIsInRleHQiLCJlIiwic2VsZWN0aW9uIiwib25EaWRDaGFuZ2UiLCJzaG91bGRDYW5jZWwiLCJnZXRCdWZmZXJSYW5nZSIsImNvbXBhcmUiLCJvbkNsaWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBWUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBZEE7Ozs7Ozs7Ozs7O0FBMkJPLE1BQU1BLFdBQU4sU0FBMEJDLEtBQUssQ0FBQ0MsU0FBaEMsQ0FBaUQ7QUFBQTtBQUFBO0FBQUEsU0FDdERDLE9BRHNEO0FBQUEsU0FFdERDLGlCQUZzRDtBQUFBOztBQUl0REMsRUFBQUEsaUJBQWlCLEdBQUc7QUFDbEIseUJBQVUsS0FBS0YsT0FBTCxJQUFnQixJQUExQjs7QUFDQSxVQUFNRyxNQUFNLEdBQUcsS0FBS0gsT0FBTCxDQUFhSSxhQUFiLEVBQWY7O0FBQ0EsVUFBTTtBQUFDQyxNQUFBQSxPQUFEO0FBQVVDLE1BQUFBLFVBQVY7QUFBc0JDLE1BQUFBO0FBQXRC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QUFHLEtBQW5COztBQUNBLFlBQUksS0FBS25DLGlCQUFMLElBQTBCLElBQTlCLEVBQW9DO0FBQ2xDLGdCQUFNO0FBQUNhLFlBQUFBLEtBQUQ7QUFBUUcsWUFBQUE7QUFBUixjQUFlLEtBQUtoQixpQkFBTCxDQUF1Qm9DLGNBQXZCLEVBQXJCOztBQUNBRCxVQUFBQSxZQUFZLEdBQUd0QixLQUFLLENBQUN3QixPQUFOLENBQWNyQixHQUFkLE1BQXVCLENBQXRDO0FBQ0Q7O0FBQ0QsWUFBSSxDQUFDbUIsWUFBTCxFQUFtQjtBQUNqQixlQUFLNUIsS0FBTCxDQUFXK0IsT0FBWCxDQUFtQk4sQ0FBbkI7QUFDRDs7QUFDRCxhQUFLaEMsaUJBQUwsR0FBeUIsSUFBekI7QUFDRDtBQXhCSCxNQUZGLENBREY7QUErQkQ7O0FBM0ZxRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxyXG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cclxuICpcclxuICogQGZsb3cgc3RyaWN0LWxvY2FsXHJcbiAqIEBmb3JtYXRcclxuICovXHJcblxyXG5pbXBvcnQge0F0b21JbnB1dH0gZnJvbSAnLi9BdG9tSW5wdXQnO1xyXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2Fzc2VydCc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbnR5cGUgUHJvcHMgPSB7XHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGdyYW1tYXI/OiBhdG9tJEdyYW1tYXIsXHJcbiAgaGlnaGxpZ2h0cz86IEFycmF5PGF0b20kUmFuZ2U+LCAvLyBOQjogSGlnaGxpZ2h0cyByZXF1aXJlIGEgc3RhcnQvZW5kIGxpbmVcclxuICBzdGFydExpbmU6ID9udW1iZXIsXHJcbiAgZW5kTGluZTogP251bWJlcixcclxuICBvbkNsaWNrOiAoZXZlbnQ6IFN5bnRoZXRpY01vdXNlRXZlbnQ8PikgPT4gbWl4ZWQsXHJcbiAgb25MaW5lQ2xpY2s6IChldmVudDogU3ludGhldGljTW91c2VFdmVudDw+LCBsaW5lOiBudW1iZXIpID0+IG1peGVkLFxyXG4gIG9uRGlkQ2hhbmdlPzogc3RyaW5nID0+IG1peGVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIENvZGVTbmlwcGV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzPiB7XHJcbiAgX2VkaXRvcjogP0F0b21JbnB1dDtcclxuICBfb25nb2luZ1NlbGVjdGlvbjogP2F0b20kU2VsZWN0aW9uO1xyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIGludmFyaWFudCh0aGlzLl9lZGl0b3IgIT0gbnVsbCk7XHJcbiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLl9lZGl0b3IuZ2V0VGV4dEVkaXRvcigpO1xyXG4gICAgY29uc3Qge2dyYW1tYXIsIGhpZ2hsaWdodHMsIHN0YXJ0TGluZX0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGlmIChncmFtbWFyKSB7XHJcbiAgICAgIGVkaXRvci5zZXRHcmFtbWFyKGdyYW1tYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChoaWdobGlnaHRzICE9IG51bGwpIHtcclxuICAgICAgaW52YXJpYW50KHN0YXJ0TGluZSAhPSBudWxsKTtcclxuXHJcbiAgICAgIGhpZ2hsaWdodHMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWFya2VyID0gZWRpdG9yLm1hcmtCdWZmZXJSYW5nZShbXHJcbiAgICAgICAgICBbcmFuZ2Uuc3RhcnQucm93IC0gc3RhcnRMaW5lLCByYW5nZS5zdGFydC5jb2x1bW5dLFxyXG4gICAgICAgICAgW3JhbmdlLmVuZC5yb3cgLSBzdGFydExpbmUsIHJhbmdlLmVuZC5jb2x1bW5dLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGVkaXRvci5kZWNvcmF0ZU1hcmtlcihtYXJrZXIsIHtcclxuICAgICAgICAgIHR5cGU6ICdoaWdobGlnaHQnLFxyXG4gICAgICAgICAgY2xhc3M6ICdjb2RlLXNuaXBwZXQtaGlnaGxpZ2h0JyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgYXQgbGVhc3Qgb25lIGhpZ2hsaWdodCBpcyB2aXNpYmxlLlxyXG4gICAgICBpZiAoaGlnaGxpZ2h0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZWRpdG9yLnNjcm9sbFRvQnVmZmVyUG9zaXRpb24oW1xyXG4gICAgICAgICAgaGlnaGxpZ2h0c1swXS5lbmQucm93IC0gc3RhcnRMaW5lICsgMSxcclxuICAgICAgICAgIGhpZ2hsaWdodHNbMF0uZW5kLmNvbHVtbixcclxuICAgICAgICBdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xyXG4gICAgY29uc3QgbGluZU51bWJlcnMgPSBbXTtcclxuICAgIGxldCBsaW5lTnVtYmVyQ29sdW1uOiA/UmVhY3QuTm9kZTtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5zdGFydExpbmUgIT0gbnVsbCAmJiB0aGlzLnByb3BzLmVuZExpbmUgIT0gbnVsbCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5wcm9wcy5zdGFydExpbmU7IGkgPD0gdGhpcy5wcm9wcy5lbmRMaW5lOyBpKyspIHtcclxuICAgICAgICBsaW5lTnVtYmVycy5wdXNoKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm51Y2xpZGUtdWktY29kZS1zbmlwcGV0LWxpbmUtbnVtYmVyXCJcclxuICAgICAgICAgICAgb25DbGljaz17ZXZ0ID0+IHRoaXMucHJvcHMub25MaW5lQ2xpY2soZXZ0LCBpKX0+XHJcbiAgICAgICAgICAgIHtpICsgMX1cclxuICAgICAgICAgIDwvZGl2PixcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsaW5lTnVtYmVyQ29sdW1uID0gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1jb2RlLXNuaXBwZXQtbGluZS1udW1iZXItY29sdW1uXCI+XHJcbiAgICAgICAgICB7bGluZU51bWJlcnN9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJudWNsaWRlLXVpLWNvZGUtc25pcHBldFwiPlxyXG4gICAgICAgIHtsaW5lTnVtYmVyQ29sdW1ufVxyXG4gICAgICAgIDxBdG9tSW5wdXRcclxuICAgICAgICAgIHJlZj17aW5wdXQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9lZGl0b3IgPSBpbnB1dDtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBpbml0aWFsVmFsdWU9e3RoaXMucHJvcHMudGV4dH1cclxuICAgICAgICAgIG9uTW91c2VEb3duPXtlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fb25nb2luZ1NlbGVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25EaWRDaGFuZ2VTZWxlY3Rpb25SYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uZ29pbmdTZWxlY3Rpb24gPSBlLnNlbGVjdGlvbjtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkRpZENoYW5nZT17dGhpcy5wcm9wcy5vbkRpZENoYW5nZX1cclxuICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBzZWxlY3RlZCBhIHJhbmdlLCBjYW5jZWwgdGhlIGBvbkNsaWNrYCBiZWhhdmlvclxyXG4gICAgICAgICAgICAvLyB0byBlbmFibGUgY29weWluZyB0aGUgc2VsZWN0aW9uLlxyXG4gICAgICAgICAgICBsZXQgc2hvdWxkQ2FuY2VsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmdvaW5nU2VsZWN0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICBjb25zdCB7c3RhcnQsIGVuZH0gPSB0aGlzLl9vbmdvaW5nU2VsZWN0aW9uLmdldEJ1ZmZlclJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgc2hvdWxkQ2FuY2VsID0gc3RhcnQuY29tcGFyZShlbmQpICE9PSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc2hvdWxkQ2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX29uZ29pbmdTZWxlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdfQ==