"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Section = void 0;

var React = _interopRequireWildcard(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/** A vertical divider with a title.
 * Specifying `collapsable` prop as true will add a clickable chevron icon that
 * collapses the component children. Optionally specify collapsedByDefault
 * (defaults to false)
 */
class Section extends React.Component {
  constructor(props) {
    super(props);

    this._toggleCollapsed = () => {
      if (this.props.collapsed == null) {
        // uncontrolled mode
        // TODO: (wbinnssmith) T30771435 this setState depends on current state
        // and should use an updater function rather than an object
        // eslint-disable-next-line react/no-access-state-in-setstate
        this.setState({
          isCollapsed: !this.state.isCollapsed
        });
      } else {
        // controlled mode
        if (typeof this.props.onChange === 'function') {
          this.props.onChange(!this.props.collapsed);
        }
      }
    };

    const initialIsCollapsed = this.props.collapsable != null && this.props.collapsable && this.props.collapsedByDefault != null && this.props.collapsedByDefault;
    this.state = {
      isCollapsed: initialIsCollapsed
    };
  }

  render() {
    const collapsable = this.props.collapsable != null ? this.props.collapsable : false;
    const collapsed = this.props.collapsed == null ? this.state.isCollapsed : this.props.collapsed; // Only include classes if the component is collapsable

    const iconClass = (0, _classnames.default)({
      icon: collapsable,
      'icon-chevron-down': collapsable && !collapsed,
      'icon-chevron-right': collapsable && collapsed,
      'nuclide-ui-section-collapsable': collapsable
    });
    const conditionalProps = {};

    if (collapsable) {
      conditionalProps.onClick = this._toggleCollapsed;
      conditionalProps.title = collapsed ? 'Click to expand' : 'Click to collapse';
    } // Any custom title prop should override the default title.


    if (this.props.title != null) {
      conditionalProps.title = this.props.title;
    }

    const HeadlineComponent = getHeadlineComponent(this.props.size);
    return /*#__PURE__*/React.createElement("div", {
      className: this.props.className
    }, /*#__PURE__*/React.createElement(HeadlineComponent, _extends({
      className: iconClass
    }, conditionalProps), this.props.headline), /*#__PURE__*/React.createElement("div", {
      style: collapsed ? {
        display: 'none'
      } : {},
      className: "nuclide-ui-section-body"
    }, this.props.children));
  }

}

exports.Section = Section;

function getHeadlineComponent(size) {
  switch (size) {
    case 'small':
      return 'h6';

    case 'medium':
      return 'h5';

    default:
      return 'h3';
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLXVpL1NlY3Rpb24uanMiXSwibmFtZXMiOlsiU2VjdGlvbiIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIl90b2dnbGVDb2xsYXBzZWQiLCJjb2xsYXBzZWQiLCJzZXRTdGF0ZSIsImlzQ29sbGFwc2VkIiwic3RhdGUiLCJvbkNoYW5nZSIsImluaXRpYWxJc0NvbGxhcHNlZCIsImNvbGxhcHNhYmxlIiwiY29sbGFwc2VkQnlEZWZhdWx0IiwicmVuZGVyIiwiaWNvbkNsYXNzIiwiaWNvbiIsImNvbmRpdGlvbmFsUHJvcHMiLCJvbkNsaWNrIiwidGl0bGUiLCJIZWFkbGluZUNvbXBvbmVudCIsImdldEhlYWRsaW5lQ29tcG9uZW50Iiwic2l6ZSIsImNsYXNzTmFtZSIsImhlYWRsaW5lIiwiZGlzcGxheSIsImNoaWxkcmVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBWUE7O0FBQ0E7Ozs7Ozs7Ozs7QUF3QkE7Ozs7O0FBS08sTUFBTUEsT0FBTixTQUFzQkMsS0FBSyxDQUFDQyxTQUE1QixDQUFvRDtBQUN6REMsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQWU7QUFDeEIsVUFBTUEsS0FBTjs7QUFEd0IsU0FZMUJDLGdCQVowQixHQVlQLE1BQVk7QUFDN0IsVUFBSSxLQUFLRCxLQUFMLENBQVdFLFNBQVgsSUFBd0IsSUFBNUIsRUFBa0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLQyxRQUFMLENBQWM7QUFBQ0MsVUFBQUEsV0FBVyxFQUFFLENBQUMsS0FBS0MsS0FBTCxDQUFXRDtBQUExQixTQUFkO0FBQ0QsT0FORCxNQU1PO0FBQ0w7QUFDQSxZQUFJLE9BQU8sS0FBS0osS0FBTCxDQUFXTSxRQUFsQixLQUErQixVQUFuQyxFQUErQztBQUM3QyxlQUFLTixLQUFMLENBQVdNLFFBQVgsQ0FBb0IsQ0FBQyxLQUFLTixLQUFMLENBQVdFLFNBQWhDO0FBQ0Q7QUFDRjtBQUNGLEtBekJ5Qjs7QUFFeEIsVUFBTUssa0JBQTJCLEdBQy9CLEtBQUtQLEtBQUwsQ0FBV1EsV0FBWCxJQUEwQixJQUExQixJQUNBLEtBQUtSLEtBQUwsQ0FBV1EsV0FEWCxJQUVBLEtBQUtSLEtBQUwsQ0FBV1Msa0JBQVgsSUFBaUMsSUFGakMsSUFHQSxLQUFLVCxLQUFMLENBQVdTLGtCQUpiO0FBS0EsU0FBS0osS0FBTCxHQUFhO0FBQ1hELE1BQUFBLFdBQVcsRUFBRUc7QUFERixLQUFiO0FBR0Q7O0FBaUJERyxFQUFBQSxNQUFNLEdBQWU7QUFDbkIsVUFBTUYsV0FBb0IsR0FDeEIsS0FBS1IsS0FBTCxDQUFXUSxXQUFYLElBQTBCLElBQTFCLEdBQWlDLEtBQUtSLEtBQUwsQ0FBV1EsV0FBNUMsR0FBMEQsS0FENUQ7QUFFQSxVQUFNTixTQUFTLEdBQ2IsS0FBS0YsS0FBTCxDQUFXRSxTQUFYLElBQXdCLElBQXhCLEdBQ0ksS0FBS0csS0FBTCxDQUFXRCxXQURmLEdBRUksS0FBS0osS0FBTCxDQUFXRSxTQUhqQixDQUhtQixDQU9uQjs7QUFDQSxVQUFNUyxTQUFTLEdBQUcseUJBQVc7QUFDM0JDLE1BQUFBLElBQUksRUFBRUosV0FEcUI7QUFFM0IsMkJBQXFCQSxXQUFXLElBQUksQ0FBQ04sU0FGVjtBQUczQiw0QkFBc0JNLFdBQVcsSUFBSU4sU0FIVjtBQUkzQix3Q0FBa0NNO0FBSlAsS0FBWCxDQUFsQjtBQU1BLFVBQU1LLGdCQUFnQixHQUFHLEVBQXpCOztBQUNBLFFBQUlMLFdBQUosRUFBaUI7QUFDZkssTUFBQUEsZ0JBQWdCLENBQUNDLE9BQWpCLEdBQTJCLEtBQUtiLGdCQUFoQztBQUNBWSxNQUFBQSxnQkFBZ0IsQ0FBQ0UsS0FBakIsR0FBeUJiLFNBQVMsR0FDOUIsaUJBRDhCLEdBRTlCLG1CQUZKO0FBR0QsS0FwQmtCLENBcUJuQjs7O0FBQ0EsUUFBSSxLQUFLRixLQUFMLENBQVdlLEtBQVgsSUFBb0IsSUFBeEIsRUFBOEI7QUFDNUJGLE1BQUFBLGdCQUFnQixDQUFDRSxLQUFqQixHQUF5QixLQUFLZixLQUFMLENBQVdlLEtBQXBDO0FBQ0Q7O0FBQ0QsVUFBTUMsaUJBQWlCLEdBQUdDLG9CQUFvQixDQUFDLEtBQUtqQixLQUFMLENBQVdrQixJQUFaLENBQTlDO0FBQ0Esd0JBQ0U7QUFBSyxNQUFBLFNBQVMsRUFBRSxLQUFLbEIsS0FBTCxDQUFXbUI7QUFBM0Isb0JBQ0Usb0JBQUMsaUJBQUQ7QUFBbUIsTUFBQSxTQUFTLEVBQUVSO0FBQTlCLE9BQTZDRSxnQkFBN0MsR0FDRyxLQUFLYixLQUFMLENBQVdvQixRQURkLENBREYsZUFJRTtBQUNFLE1BQUEsS0FBSyxFQUFFbEIsU0FBUyxHQUFHO0FBQUNtQixRQUFBQSxPQUFPLEVBQUU7QUFBVixPQUFILEdBQXVCLEVBRHpDO0FBRUUsTUFBQSxTQUFTLEVBQUM7QUFGWixPQUdHLEtBQUtyQixLQUFMLENBQVdzQixRQUhkLENBSkYsQ0FERjtBQVlEOztBQWxFd0Q7Ozs7QUFxRTNELFNBQVNMLG9CQUFULENBQThCQyxJQUE5QixFQUFpRTtBQUMvRCxVQUFRQSxJQUFSO0FBQ0UsU0FBSyxPQUFMO0FBQ0UsYUFBTyxJQUFQOztBQUNGLFNBQUssUUFBTDtBQUNFLGFBQU8sSUFBUDs7QUFDRjtBQUNFLGFBQU8sSUFBUDtBQU5KO0FBUUQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcclxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXHJcbiAqXHJcbiAqIEBmbG93IHN0cmljdFxyXG4gKiBAZm9ybWF0XHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbnR5cGUgU2VjdGlvblNpemUgPSAnbGFyZ2UnIHwgJ21lZGl1bScgfCAnc21hbGwnO1xyXG50eXBlIFByb3BzID0ge1xyXG4gIGhlYWRsaW5lOiBSZWFjdC5Ob2RlLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZyxcclxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXHJcbiAgLy8gT3B0aW9uIEE6IFNwZWNpZnkganVzdCBgY29sbGFwc2FibGVgIGZvciB1bmNvbnRyb2xsZWQgdG9nZ2xlIGJlaGF2aW9yLlxyXG4gIGNvbGxhcHNhYmxlPzogYm9vbGVhbixcclxuICAvLyBgY29sbGFwc2FibGVgIG92ZXJyaWRlcyB0aGlzIHdoZW4gc3BlY2lmaWVkLlxyXG4gIGNvbGxhcHNlZEJ5RGVmYXVsdD86IGJvb2xlYW4sXHJcblxyXG4gIC8vIE9wdGlvbiBCOiBBbHNvIHNwZWNpZnkgYGNvbGxhcHNlZGAgYW5kIGBvbkNoYW5nZWAgZm9yIGNvbnRyb2xsZWQgdG9nZ2xlIGJlaGF2aW9yLlxyXG4gIGNvbGxhcHNlZD86IGJvb2xlYW4sXHJcbiAgb25DaGFuZ2U/OiAoaXNDb2xsYXBzZWQ6IGJvb2xlYW4pID0+IG1peGVkLFxyXG5cclxuICBzaXplPzogU2VjdGlvblNpemUsXHJcbiAgdGl0bGU/OiBzdHJpbmcsXHJcbn07XHJcblxyXG50eXBlIFN0YXRlID0ge1xyXG4gIGlzQ29sbGFwc2VkOiBib29sZWFuLFxyXG59O1xyXG5cclxuLyoqIEEgdmVydGljYWwgZGl2aWRlciB3aXRoIGEgdGl0bGUuXHJcbiAqIFNwZWNpZnlpbmcgYGNvbGxhcHNhYmxlYCBwcm9wIGFzIHRydWUgd2lsbCBhZGQgYSBjbGlja2FibGUgY2hldnJvbiBpY29uIHRoYXRcclxuICogY29sbGFwc2VzIHRoZSBjb21wb25lbnQgY2hpbGRyZW4uIE9wdGlvbmFsbHkgc3BlY2lmeSBjb2xsYXBzZWRCeURlZmF1bHRcclxuICogKGRlZmF1bHRzIHRvIGZhbHNlKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICBjb25zdCBpbml0aWFsSXNDb2xsYXBzZWQ6IGJvb2xlYW4gPVxyXG4gICAgICB0aGlzLnByb3BzLmNvbGxhcHNhYmxlICE9IG51bGwgJiZcclxuICAgICAgdGhpcy5wcm9wcy5jb2xsYXBzYWJsZSAmJlxyXG4gICAgICB0aGlzLnByb3BzLmNvbGxhcHNlZEJ5RGVmYXVsdCAhPSBudWxsICYmXHJcbiAgICAgIHRoaXMucHJvcHMuY29sbGFwc2VkQnlEZWZhdWx0O1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgaXNDb2xsYXBzZWQ6IGluaXRpYWxJc0NvbGxhcHNlZCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQ29sbGFwc2VkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuY29sbGFwc2VkID09IG51bGwpIHtcclxuICAgICAgLy8gdW5jb250cm9sbGVkIG1vZGVcclxuICAgICAgLy8gVE9ETzogKHdiaW5uc3NtaXRoKSBUMzA3NzE0MzUgdGhpcyBzZXRTdGF0ZSBkZXBlbmRzIG9uIGN1cnJlbnQgc3RhdGVcclxuICAgICAgLy8gYW5kIHNob3VsZCB1c2UgYW4gdXBkYXRlciBmdW5jdGlvbiByYXRoZXIgdGhhbiBhbiBvYmplY3RcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFjY2Vzcy1zdGF0ZS1pbi1zZXRzdGF0ZVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtpc0NvbGxhcHNlZDogIXRoaXMuc3RhdGUuaXNDb2xsYXBzZWR9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNvbnRyb2xsZWQgbW9kZVxyXG4gICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCF0aGlzLnByb3BzLmNvbGxhcHNlZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XHJcbiAgICBjb25zdCBjb2xsYXBzYWJsZTogYm9vbGVhbiA9XHJcbiAgICAgIHRoaXMucHJvcHMuY29sbGFwc2FibGUgIT0gbnVsbCA/IHRoaXMucHJvcHMuY29sbGFwc2FibGUgOiBmYWxzZTtcclxuICAgIGNvbnN0IGNvbGxhcHNlZCA9XHJcbiAgICAgIHRoaXMucHJvcHMuY29sbGFwc2VkID09IG51bGxcclxuICAgICAgICA/IHRoaXMuc3RhdGUuaXNDb2xsYXBzZWRcclxuICAgICAgICA6IHRoaXMucHJvcHMuY29sbGFwc2VkO1xyXG4gICAgLy8gT25seSBpbmNsdWRlIGNsYXNzZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBjb2xsYXBzYWJsZVxyXG4gICAgY29uc3QgaWNvbkNsYXNzID0gY2xhc3NuYW1lcyh7XHJcbiAgICAgIGljb246IGNvbGxhcHNhYmxlLFxyXG4gICAgICAnaWNvbi1jaGV2cm9uLWRvd24nOiBjb2xsYXBzYWJsZSAmJiAhY29sbGFwc2VkLFxyXG4gICAgICAnaWNvbi1jaGV2cm9uLXJpZ2h0JzogY29sbGFwc2FibGUgJiYgY29sbGFwc2VkLFxyXG4gICAgICAnbnVjbGlkZS11aS1zZWN0aW9uLWNvbGxhcHNhYmxlJzogY29sbGFwc2FibGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNvbmRpdGlvbmFsUHJvcHMgPSB7fTtcclxuICAgIGlmIChjb2xsYXBzYWJsZSkge1xyXG4gICAgICBjb25kaXRpb25hbFByb3BzLm9uQ2xpY2sgPSB0aGlzLl90b2dnbGVDb2xsYXBzZWQ7XHJcbiAgICAgIGNvbmRpdGlvbmFsUHJvcHMudGl0bGUgPSBjb2xsYXBzZWRcclxuICAgICAgICA/ICdDbGljayB0byBleHBhbmQnXHJcbiAgICAgICAgOiAnQ2xpY2sgdG8gY29sbGFwc2UnO1xyXG4gICAgfVxyXG4gICAgLy8gQW55IGN1c3RvbSB0aXRsZSBwcm9wIHNob3VsZCBvdmVycmlkZSB0aGUgZGVmYXVsdCB0aXRsZS5cclxuICAgIGlmICh0aGlzLnByb3BzLnRpdGxlICE9IG51bGwpIHtcclxuICAgICAgY29uZGl0aW9uYWxQcm9wcy50aXRsZSA9IHRoaXMucHJvcHMudGl0bGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBIZWFkbGluZUNvbXBvbmVudCA9IGdldEhlYWRsaW5lQ29tcG9uZW50KHRoaXMucHJvcHMuc2l6ZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxyXG4gICAgICAgIDxIZWFkbGluZUNvbXBvbmVudCBjbGFzc05hbWU9e2ljb25DbGFzc30gey4uLmNvbmRpdGlvbmFsUHJvcHN9PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuaGVhZGxpbmV9XHJcbiAgICAgICAgPC9IZWFkbGluZUNvbXBvbmVudD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBzdHlsZT17Y29sbGFwc2VkID8ge2Rpc3BsYXk6ICdub25lJ30gOiB7fX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cIm51Y2xpZGUtdWktc2VjdGlvbi1ib2R5XCI+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SGVhZGxpbmVDb21wb25lbnQoc2l6ZT86IHN0cmluZyk6ICdoNicgfCAnaDUnIHwgJ2gzJyB7XHJcbiAgc3dpdGNoIChzaXplKSB7XHJcbiAgICBjYXNlICdzbWFsbCc6XHJcbiAgICAgIHJldHVybiAnaDYnO1xyXG4gICAgY2FzZSAnbWVkaXVtJzpcclxuICAgICAgcmV0dXJuICdoNSc7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gJ2gzJztcclxuICB9XHJcbn1cclxuIl19