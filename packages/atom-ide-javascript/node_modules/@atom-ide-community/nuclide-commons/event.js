"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.attachEvent = attachEvent;
exports.observableFromSubscribeFunction = observableFromSubscribeFunction;

var _UniversalDisposable = _interopRequireDefault(require("./UniversalDisposable"));

var _rxjsCompatUmdMin = require("rxjs-compat/bundles/rxjs-compat.umd.min.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

/**
 * Add an event listener an return a disposable for removing it. Note that this function assumes
 * node EventEmitter semantics: namely, that adding the same combination of eventName and callback
 * adds a second listener.
 */
function attachEvent(emitter, eventName, callback) {
  emitter.addListener(eventName, callback);
  return new _UniversalDisposable.default(() => {
    emitter.removeListener(eventName, callback);
  });
}

function observableFromSubscribeFunction(fn) {
  return _rxjsCompatUmdMin.Observable.create(observer => new _UniversalDisposable.default(fn(observer.next.bind(observer))));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zL2V2ZW50LmpzIl0sIm5hbWVzIjpbImF0dGFjaEV2ZW50IiwiZW1pdHRlciIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiYWRkTGlzdGVuZXIiLCJVbml2ZXJzYWxEaXNwb3NhYmxlIiwicmVtb3ZlTGlzdGVuZXIiLCJvYnNlcnZhYmxlRnJvbVN1YnNjcmliZUZ1bmN0aW9uIiwiZm4iLCJPYnNlcnZhYmxlIiwiY3JlYXRlIiwib2JzZXJ2ZXIiLCJuZXh0IiwiYmluZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFZQTs7QUFDQTs7OztBQWJBOzs7Ozs7Ozs7Ozs7QUFlQTs7Ozs7QUFLTyxTQUFTQSxXQUFULENBQ0xDLE9BREssRUFFTEMsU0FGSyxFQUdMQyxRQUhLLEVBSVE7QUFDYkYsRUFBQUEsT0FBTyxDQUFDRyxXQUFSLENBQW9CRixTQUFwQixFQUErQkMsUUFBL0I7QUFDQSxTQUFPLElBQUlFLDRCQUFKLENBQXdCLE1BQU07QUFDbkNKLElBQUFBLE9BQU8sQ0FBQ0ssY0FBUixDQUF1QkosU0FBdkIsRUFBa0NDLFFBQWxDO0FBQ0QsR0FGTSxDQUFQO0FBR0Q7O0FBT00sU0FBU0ksK0JBQVQsQ0FDTEMsRUFESyxFQUVVO0FBQ2YsU0FBT0MsNkJBQVdDLE1BQVgsQ0FDTEMsUUFBUSxJQUFJLElBQUlOLDRCQUFKLENBQXdCRyxFQUFFLENBQUNHLFFBQVEsQ0FBQ0MsSUFBVCxDQUFjQyxJQUFkLENBQW1CRixRQUFuQixDQUFELENBQTFCLENBRFAsQ0FBUDtBQUdEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XHJcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxyXG4gKlxyXG4gKiBAZmxvd1xyXG4gKiBAZm9ybWF0XHJcbiAqL1xyXG5cclxuaW1wb3J0IFVuaXZlcnNhbERpc3Bvc2FibGUgZnJvbSAnLi9Vbml2ZXJzYWxEaXNwb3NhYmxlJztcclxuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzLWNvbXBhdC9idW5kbGVzL3J4anMtY29tcGF0LnVtZC5taW4uanMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciBhbiByZXR1cm4gYSBkaXNwb3NhYmxlIGZvciByZW1vdmluZyBpdC4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gYXNzdW1lc1xyXG4gKiBub2RlIEV2ZW50RW1pdHRlciBzZW1hbnRpY3M6IG5hbWVseSwgdGhhdCBhZGRpbmcgdGhlIHNhbWUgY29tYmluYXRpb24gb2YgZXZlbnROYW1lIGFuZCBjYWxsYmFja1xyXG4gKiBhZGRzIGEgc2Vjb25kIGxpc3RlbmVyLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaEV2ZW50KFxyXG4gIGVtaXR0ZXI6IGV2ZW50cyRFdmVudEVtaXR0ZXIsXHJcbiAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgY2FsbGJhY2s6IEZ1bmN0aW9uLFxyXG4pOiBJRGlzcG9zYWJsZSB7XHJcbiAgZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICByZXR1cm4gbmV3IFVuaXZlcnNhbERpc3Bvc2FibGUoKCkgPT4ge1xyXG4gICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICB9KTtcclxufVxyXG5cclxudHlwZSBTdWJzY3JpYmVDYWxsYmFjazxUPiA9IChpdGVtOiBUKSA9PiBhbnk7XHJcbnR5cGUgU3Vic2NyaWJlRnVuY3Rpb248VD4gPSAoXHJcbiAgY2FsbGJhY2s6IFN1YnNjcmliZUNhbGxiYWNrPFQ+LFxyXG4pID0+IElEaXNwb3NhYmxlIHwgKCgpID0+IG1peGVkKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlRnJvbVN1YnNjcmliZUZ1bmN0aW9uPFQ+KFxyXG4gIGZuOiBTdWJzY3JpYmVGdW5jdGlvbjxUPixcclxuKTogT2JzZXJ2YWJsZTxUPiB7XHJcbiAgcmV0dXJuIE9ic2VydmFibGUuY3JlYXRlKFxyXG4gICAgb2JzZXJ2ZXIgPT4gbmV3IFVuaXZlcnNhbERpc3Bvc2FibGUoZm4ob2JzZXJ2ZXIubmV4dC5iaW5kKG9ic2VydmVyKSkpLFxyXG4gICk7XHJcbn1cclxuIl19