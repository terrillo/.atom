"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = matchIndexesToRanges;

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
function matchIndexesToRanges(matchIndexes) {
  let streakOngoing = false;
  let start = 0;
  const ranges = []; // Collapse consecutive values for consecutive indexes into range pairs.
  // Do this in O(n) where n is the number of matchIndexes (ie. less than the length of the path).

  matchIndexes.forEach((i, n) => {
    if (matchIndexes[n + 1] === i + 1) {
      if (!streakOngoing) {
        start = i;
        streakOngoing = true;
      }
    } else {
      if (streakOngoing) {
        ranges.push([start, i + 1]);
        streakOngoing = false;
      } else {
        ranges.push([i, i + 1]);
      }

      start = i + 1;
    }
  });
  return ranges;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zL21hdGNoSW5kZXhlc1RvUmFuZ2VzLmpzIl0sIm5hbWVzIjpbIm1hdGNoSW5kZXhlc1RvUmFuZ2VzIiwibWF0Y2hJbmRleGVzIiwic3RyZWFrT25nb2luZyIsInN0YXJ0IiwicmFuZ2VzIiwiZm9yRWFjaCIsImkiLCJuIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7OztBQWNlLFNBQVNBLG9CQUFULENBQ2JDLFlBRGEsRUFFTTtBQUNuQixNQUFJQyxhQUFhLEdBQUcsS0FBcEI7QUFDQSxNQUFJQyxLQUFLLEdBQUcsQ0FBWjtBQUNBLFFBQU1DLE1BQU0sR0FBRyxFQUFmLENBSG1CLENBS25CO0FBQ0E7O0FBQ0FILEVBQUFBLFlBQVksQ0FBQ0ksT0FBYixDQUFxQixDQUFDQyxDQUFELEVBQUlDLENBQUosS0FBVTtBQUM3QixRQUFJTixZQUFZLENBQUNNLENBQUMsR0FBRyxDQUFMLENBQVosS0FBd0JELENBQUMsR0FBRyxDQUFoQyxFQUFtQztBQUNqQyxVQUFJLENBQUNKLGFBQUwsRUFBb0I7QUFDbEJDLFFBQUFBLEtBQUssR0FBR0csQ0FBUjtBQUNBSixRQUFBQSxhQUFhLEdBQUcsSUFBaEI7QUFDRDtBQUNGLEtBTEQsTUFLTztBQUNMLFVBQUlBLGFBQUosRUFBbUI7QUFDakJFLFFBQUFBLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLENBQUNMLEtBQUQsRUFBUUcsQ0FBQyxHQUFHLENBQVosQ0FBWjtBQUNBSixRQUFBQSxhQUFhLEdBQUcsS0FBaEI7QUFDRCxPQUhELE1BR087QUFDTEUsUUFBQUEsTUFBTSxDQUFDSSxJQUFQLENBQVksQ0FBQ0YsQ0FBRCxFQUFJQSxDQUFDLEdBQUcsQ0FBUixDQUFaO0FBQ0Q7O0FBQ0RILE1BQUFBLEtBQUssR0FBR0csQ0FBQyxHQUFHLENBQVo7QUFDRDtBQUNGLEdBZkQ7QUFnQkEsU0FBT0YsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XHJcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxyXG4gKlxyXG4gKiBAZmxvdyBzdHJpY3RcclxuICogQGZvcm1hdFxyXG4gKi9cclxuXHJcbnR5cGUgTWF0Y2hSYW5nZSA9IFsvKiBzdGFydCAqLyBudW1iZXIsIC8qIGVuZCAqLyBudW1iZXJdO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF0Y2hJbmRleGVzVG9SYW5nZXMoXHJcbiAgbWF0Y2hJbmRleGVzOiBBcnJheTxudW1iZXI+LFxyXG4pOiBBcnJheTxNYXRjaFJhbmdlPiB7XHJcbiAgbGV0IHN0cmVha09uZ29pbmcgPSBmYWxzZTtcclxuICBsZXQgc3RhcnQgPSAwO1xyXG4gIGNvbnN0IHJhbmdlcyA9IFtdO1xyXG5cclxuICAvLyBDb2xsYXBzZSBjb25zZWN1dGl2ZSB2YWx1ZXMgZm9yIGNvbnNlY3V0aXZlIGluZGV4ZXMgaW50byByYW5nZSBwYWlycy5cclxuICAvLyBEbyB0aGlzIGluIE8obikgd2hlcmUgbiBpcyB0aGUgbnVtYmVyIG9mIG1hdGNoSW5kZXhlcyAoaWUuIGxlc3MgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoKS5cclxuICBtYXRjaEluZGV4ZXMuZm9yRWFjaCgoaSwgbikgPT4ge1xyXG4gICAgaWYgKG1hdGNoSW5kZXhlc1tuICsgMV0gPT09IGkgKyAxKSB7XHJcbiAgICAgIGlmICghc3RyZWFrT25nb2luZykge1xyXG4gICAgICAgIHN0YXJ0ID0gaTtcclxuICAgICAgICBzdHJlYWtPbmdvaW5nID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0cmVha09uZ29pbmcpIHtcclxuICAgICAgICByYW5nZXMucHVzaChbc3RhcnQsIGkgKyAxXSk7XHJcbiAgICAgICAgc3RyZWFrT25nb2luZyA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJhbmdlcy5wdXNoKFtpLCBpICsgMV0pO1xyXG4gICAgICB9XHJcbiAgICAgIHN0YXJ0ID0gaSArIDE7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJhbmdlcztcclxufVxyXG4iXX0=